!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(1),i=n(3),a=r(i),u=n(4),c=r(u),l=n(6),s=r(l),f=function(e){var t=e.baz,n=e.children,r=e.foo;return(0,o.h)("div",null,(0,o.h)("h1",null,"react-shadow"),(0,o.h)("p",null,"foo: ",r),(0,o.h)("p",null,"baz: ",t),(0,o.h)("div",{className:"box blue"}),(0,o.h)("div",{className:"box red"}),n?(0,o.h)("div",null,(0,o.h)("p",null,"Children:"),n):"No children")},d=(0,c["default"])(f,s["default"]);(0,a["default"])(d,"x-test-app"),(0,o.render)((0,o.h)(d,{foo:"bar",baz:"buzz"}),document.getElementById("react-shadow-css-demo")),(0,o.render)((0,o.h)(f,{foo:"bar",baz:"buzz"}),document.getElementById("react-shadow-css-demo-no-shadow"))},function(e,t,n){(function(e){!function(e,n){n(t)}(this,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,t){if(t)for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}function r(e){return n({},e)}function o(e,t){for(var n=t.split("."),r=0;r<n.length&&e;r++)e=e[n[r]];return e}function i(e,t){return[].slice.call(e,t)}function a(e){return"function"==typeof e}function u(e){return"string"==typeof e}function c(e){return void 0===e||null===e}function l(e){return e===!1||c(e)}function s(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function f(e,t){return d($,e,t)}function d(e,t,n,r,o){if(e[t])return e[t](n,r,o)}function p(e,n,r){var o,i,c,d=arguments.length;if(d>2){var h=typeof r;if(3===d&&"object"!==h&&"function"!==h)l(r)||(o=[String(r)]);else{o=[];for(var m=2;m<d;m++){var v=arguments[m];if(!l(v)){v.join?i=v:(i=ee)[0]=v;for(var b=0;b<i.length;b++){var y=i[b],_=!(l(y)||a(y)||y instanceof t);_&&!u(y)&&(y=String(y)),_&&c?o[o.length-1]+=y:l(y)||(o.push(y),c=_)}}}}}else if(n&&n.children)return p(e,n,n.children);n&&(n.children&&delete n.children,a(e)||("className"in n&&(n["class"]=n.className,delete n.className),c=n["class"],c&&!u(c)&&(n["class"]=s(c))));var x=new t(e,n||void 0,o);return f("vnode",x),x}function h(e,t){return p(e.nodeName,n(r(e.attributes),t),arguments.length>2?i(arguments,2):e.children)}function m(e,t,n){var r=t.split("."),i=r[0],l=r.length;return function(t){var s,f,d,p=t&&t.currentTarget||this,h=e.state,m=h;if(u(n)?(f=o(t,n),c(f)&&(p=p._component)&&(f=o(p,n))):f=(p.nodeName+p.type).match(/^input(check|rad)/i)?p.checked:p.value,a(f)&&(f=f.call(p)),l>1){for(d=0;d<l-1;d++)m=m[r[d]]||(m[r[d]]={});m[r[d]]=f,f=h[i]}e.setState((s={},s[i]=f,s))}}function v(e){1===oe.push(e)&&($.debounceRendering||Z)(b)}function b(){if(oe.length){var e,t=oe;for(oe=ie,ie=t;e=t.pop();)e._dirty&&V(e)}}function y(e){var t=e&&e.nodeName;return t&&a(t)&&!(t.prototype&&t.prototype.render)}function _(e,t){return e.nodeName(E(e),t||te)||""}function x(e,t){return e[ne]||(e[ne]=t||{})}function g(e){return e instanceof Text?3:e instanceof Element?1:0}function w(e){var t=e.parentNode;t&&t.removeChild(e)}function N(e,t,n,r,o){if(x(e)[t]=n,"key"!==t&&"children"!==t)if("class"!==t||o)if("style"===t){if((!n||u(n)||u(r))&&(e.style.cssText=n||""),n&&"object"==typeof n){for(var i in r)i in n||(e.style[i]="");for(var i in n)e.style[i]="number"!=typeof n[i]||re[i]?n[i]:n[i]+"px"}}else if("dangerouslySetInnerHTML"===t)n&&(e.innerHTML=n.__html);else if("type"!==t&&!o&&t in e)C(e,t,c(n)?"":n),l(n)&&e.removeAttribute(t);else if("o"===t[0]&&"n"===t[1]){var s=e._listeners||(e._listeners={});t=X(t.substring(2)),n?s[t]||e.addEventListener(t,k):s[t]&&e.removeEventListener(t,k),s[t]=n}else{var f=o&&t.match(/^xlink\:?(.+)/);l(n)?f?e.removeAttributeNS("http://www.w3.org/1999/xlink",X(f[1])):e.removeAttribute(t):"object"==typeof n||a(n)||(f?e.setAttributeNS("http://www.w3.org/1999/xlink",X(f[1]),n):e.setAttribute(t,n))}else e.className=n||""}function C(e,t,n){try{e[t]=n}catch(r){}}function k(e){return this._listeners[e.type](f("event",e)||e)}function T(e){for(var t={},n=e.attributes.length;n--;)t[e.attributes[n].name]=e.attributes[n].value;return t}function S(e,t){return u(t)?3===g(e):u(t.nodeName)?I(e,t.nodeName):a(t.nodeName)?e._componentConstructor===t.nodeName||y(t):void 0}function I(e,t){return(e.normalizedNodeName||X(e.nodeName))===X(t)}function E(e){var t=e.nodeName.defaultProps,o=r(t||e.attributes);return t&&n(o,e.attributes),e.children&&(o.children=e.children),o}function P(e){j(e);var t=X(e.nodeName),n=ae[t];n?n.push(e):ae[t]=[e]}function O(e,t){var n=X(e),r=ae[n]&&ae[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return x(r),r.normalizedNodeName=n,r}function j(e){w(e),3!==g(e)&&(x(e,T(e)),e._component=e._componentConstructor=null)}function z(){for(var e;e=ue.pop();)d(e,"componentDidMount")}function B(e,t,n,r,o,i){ce++;var a=M(e,t,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--ce||z(),a}function M(e,t,n,r,o){for(var i=t.attributes;y(t);)t=_(t,n);if(u(t)){if(e){if(3===g(e))return e.nodeValue!==t&&(e.nodeValue=t),e;o||P(e)}return document.createTextNode(t)}var c,l=e,s=t.nodeName;if(a(s))return G(e,t,n,r);if(u(s)||(s=String(s)),c="svg"===X(s),c&&(le=!0),e){if(!I(e,s)){for(l=O(s,le);e.firstChild;)l.appendChild(e.firstChild);o||R(e)}}else l=O(s,le);return t.children&&1===t.children.length&&"string"==typeof t.children[0]&&1===l.childNodes.length&&l.firstChild instanceof Text?l.firstChild.nodeValue=t.children[0]:(t.children||l.firstChild)&&A(l,t.children,n,r),U(l,t.attributes),i&&i.ref&&(l[ne].ref=i.ref)(l),c&&(le=!1),l}function A(e,t,n,r){var o,i,a,u,l=e.childNodes,s=[],f={},d=0,p=0,h=l.length,m=0,v=t&&t.length;if(h)for(var b=0;b<h;b++){var y=l[b],_=v&&((i=y._component)?i.__key:(i=y[ne])?i.key:null);_||0===_?(d++,f[_]=y):s[m++]=y}if(v)for(var b=0;b<v;b++){if(a=t[b],u=null,d&&a.attributes){var _=a.key;!c(_)&&_ in f&&(u=f[_],f[_]=void 0,d--)}if(!u&&p<m)for(o=p;o<m;o++)if(i=s[o],i&&S(i,a)){u=i,s[o]=void 0,o===m-1&&m--,o===p&&p++;break}u=M(u,a,n,r),u!==l[b]&&e.insertBefore(u,l[b]||null)}if(d)for(var b in f)f[b]&&(s[p=m++]=f[b]);p<m&&L(s)}function L(e,t){for(var n=e.length;n--;){var r=e[n];r&&R(r,t)}}function R(e,t){var n=e._component;if(n)q(n,!t);else{if(e[ne]&&d(e[ne],"ref",null),!t){if(1!==g(e))return void w(e);P(e)}e.childNodes.length&&L(e.childNodes,t)}}function U(e,t){var n=e[ne]||T(e);for(var r in n)t&&r in t||N(e,r,null,le);if(t)for(var o in t)o in n&&t[o]==("value"===o||"selected"===o||"checked"===o?e[o]:n[o])||N(e,o,t[o],n[o],le)}function D(e){var t=e.constructor.name,n=se[t];n?n.push(e):se[t]=[e]}function F(e,t,n){var r=new e(t,n),o=se[e.name];if(o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function H(e){e._dirty||(e._dirty=!0,v(e))}function W(e,t,n,r,o){var i=e._disableRendering===!0,a=e.base;e._disableRendering=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,c(a)||o?d(e,"componentWillMount"):d(e,"componentWillReceiveProps",t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disableRendering=i,0!==n&&(1!==n&&$.syncComponentUpdates===!1&&a?H(e):V(e,1,o)),d(e,"__ref",e)}function V(e,t,o){if(!e._disableRendering){var i,u,c=e.props,l=e.state,s=e.context,f=e.prevProps||c,p=e.prevState||l,h=e.prevContext||s,m=e.base,v=m||e.nextBase,b=v&&v._component,x=e._component;if(m&&(e.props=f,e.state=p,e.context=h,2!==t&&d(e,"shouldComponentUpdate",c,l,s)===!1?i=!0:d(e,"componentWillUpdate",c,l,s),e.props=c,e.state=l,e.context=s),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!i){for(u=d(e,"render",c,l,s),e.getChildContext&&(s=n(r(s),e.getChildContext()));y(u);)u=_(u,s);var g,w,N=u&&u.nodeName;if(a(N)&&N.prototype.render){var C=x,k=E(u);C&&C.constructor===N?W(C,k,1,s):(g=C,C=F(N,k,s),C._parentComponent=e,e._component=C,W(C,k,0,s),V(C,1)),w=C.base}else{var T=v;g=x,g&&(T=e._component=null),(v||1===t)&&(T&&(T._component=null),w=B(T,u||"",s,o||!m,!0))}if(v&&w!==v){var S=v.parentNode;S&&w!==S&&S.replaceChild(w,v),g||b!==e||x||(v._component=null,R(v))}if(g&&q(g,!0),e.base=w,w){for(var I=e,P=e;P=P._parentComponent;)I=P;w._component=I,w._componentConstructor=I.constructor}}!m||o?(ue.splice(0,0,e),ce||z()):i||d(e,"componentDidUpdate",f,p,h);var O,j=e._renderCallbacks;if(j)for(;O=j.pop();)O.call(e);return u}}function G(e,t,n,r){for(var o=e&&e._component,i=e,a=o&&e._componentConstructor===t.nodeName,u=a,c=E(t);o&&!u&&(o=o._parentComponent);)u=o.constructor===t.nodeName;return!u||r&&!o._component?(o&&!a&&(q(o,!0),e=i=null),o=F(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e),W(o,c,1,n,r),e=o.base,i&&e!==i&&(i._component=null,R(i))):(W(o,c,3,n,r),e=o.base),e}function q(e,t){d(e,"componentWillUnmount");var n=e._component;if(n)q(n,t);else{var r=e.base;r&&(e.nextBase=r,e.base=null,r[ne]&&d(r[ne],"ref",null),t&&(w(r),D(e)),L(r.childNodes,!t))}d(e,"__ref",null),d(e,"componentDidUnmount")}function J(e,t){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=t||{},this.props=e,this.state=d(this,"getInitialState")||{}}function K(e,t,n){return B(n,e,{},!1,!1,t)}var Q={},X=function(e){return Q[e]||(Q[e]=e.toLowerCase())},Y="undefined"!=typeof Promise&&Promise.resolve(),Z=Y?function(e){Y.then(e)}:setTimeout,$={vnode:c},ee=[],te={},ne="undefined"!=typeof Symbol?Symbol["for"]("preactattr"):"__preactattr_",re={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},oe=[],ie=[],ae={},ue=[],ce=0,le=!1,se={};n(J.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={}),r=e+"|"+t;return n[r]||(n[r]=m(this,e,t))},setState:function(e,t){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,a(e)?e(o,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),H(this)},forceUpdate:function(){V(this,2)},render:function(){return null}}),e.h=p,e.cloneElement=h,e.Component=J,e.render=K,e.rerender=b,e.options=$})}).call(t,n(2).setImmediate)},function(e,t,n){(function(e,r){function o(e,t){this._id=e,this._clearFn=t}var i=n(5).nextTick,a=Function.prototype.apply,u=Array.prototype.slice,c={},l=0;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=l++,r=!(arguments.length<2)&&u.call(arguments,1);return c[n]=!0,i(function(){c[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(t,n(2).setImmediate,n(2).clearImmediate)},function(e,t,n){!function(t,r){e.exports=r(n(1))}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){function n(){var t=[].slice.call(this.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{});(0,o.render)((0,o.h)(e,t),this)}var r=Object.create(HTMLElement.prototype);return r.attachedCallback=n,r.detachedCallback=function(){(0,o.unmountComponentAtNode)(this)},r.attributeChangedCallback=n,document.registerElement(t||e.displayName,{prototype:r})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(1)},function(t,n){t.exports=e}])})},function(e,t,n){!function(t,r){e.exports=r(n(1))}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=function(n){function a(){return r(this,a),o(this,Object.getPrototypeOf(a).apply(this,arguments))}return i(a,n),u(a,[{key:"setup",value:function(n){return n?(this.shadow=n.createShadowRoot(),this._component=(0,c.render)((0,c.h)(e,this.props),this.shadow),void(this.shadow.innerHTML+="<style>"+t+"</style>")):void console.warn("ShadowDOM failed to create shadow dom for "+(e.displayName||"component")+", because node was falsy.")}},{key:"render",value:function(){return(0,c.h)("div",{ref:this.setup.bind(this)})}}]),a}(c.Component);return n.displayName="ShadowDOM("+e.displayName+")",n}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=a;var c=n(1)},function(t,n){t.exports=e}])})},function(e,t){function n(){f&&l&&(f=!1,l.length?s=l.concat(s):d=-1,s.length&&r())}function r(){if(!f){var e=a(n);f=!0;for(var t=s.length;t;){for(l=s,s=[];++d<t;)l&&l[d].run();d=-1,t=s.length}l=null,f=!1,u(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,u,c=e.exports={};!function(){try{a=setTimeout}catch(e){a=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(e){u=function(){throw new Error("clearTimeout is not defined")}}}();var l,s=[],f=!1,d=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new o(e,t)),1!==s.length||f||a(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t){e.exports=".box { width: 50px; height: 50px; }\n.blue { background-color: blue; }\n.red { background-color: red; }\n\n"}]);